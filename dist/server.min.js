"use strict";var inquirer=require("inquirer"),mysql=require("mysql"),cTable=require("console.table"),db=require("."),connection=mysql.createConnection({host:"localhost",port:3306,user:"root",database:"employeesDB"});connection.connect(function(e){if(e)throw e;console.log("connected as id "+connection.threadId),startScreen()});var startScreen=function(){inquirer.prompt({type:"list",choices:["Add department","Add role","Add employee","View departments","View roles","View employees","Update employee role","Quit"],message:"What would you like to do?",name:"option"}).then(function(e){switch(console.log("You entered: "+e.option),e.option){case"Add department":addDepartment();break;case"Add role":addRole();break;case"Add employee":addEmployee();break;case"View departments":viewDepartment();break;case"View roles":viewRoles();break;case"View employees":viewEmployees();break;case"Update employee role":updateEmployee();break;default:quit()}})},addDepartment=function(){inquirer.prompt({type:"input",message:"What is the name of the department?",name:"deptName"}).then(function(e){connection.query("INSERT INTO department (name) VALUES (?)",[e.deptName],function(e,t){if(e)throw e;console.table(t),startScreen()})})},addRole=function(){inquirer.prompt([{type:"input",message:"What's the name of the role?",name:"roleName"},{type:"input",message:"What is the salary for this role?",name:"salaryTotal"},{type:"input",message:"What is the department id number?",name:"deptID"}]).then(function(e){connection.query("INSERT INTO role (title, salary, department_id) VALUES (?, ?, ?)",[e.roleName,e.salaryTotal,e.deptID],function(e,t){if(e)throw e;console.table(t),startScreen()})})};function addEmployee(){inquirer.prompt([{type:"input",message:"What's the first name of the employee?",name:"eeFirstName"},{type:"input",message:"What's the last name of the employee?",name:"eeLastName"},{type:"input",message:"What is the employee's role id number?",name:"roleID"},{type:"input",message:"What is the manager id number?",name:"managerID"}]).then(function(e){connection.query("INSERT INTO employee (first_name, last_name, role_id, manager_id) VALUES (?, ?, ?, ?)",[e.eeFirstName,e.eeLastName,e.roleID,e.managerID],function(e,t){if(e)throw e;console.table(t),startScreen()})})}function updateEmployee(){inquirer.prompt([{type:"input",message:"Which employee would you like to update?",name:"eeUpdate"},{type:"input",message:"What do you want to update to?",name:"updateRole"}]).then(function(e){connection.query("UPDATE employee SET role_id=? WHERE first_name= ?",[e.updateRole,e.eeUpdate],function(e,t){if(e)throw e;console.table(t),startScreen()})})}function viewDepartment(){connection.query("SELECT * FROM department",function(e,t){if(e)throw e;console.table(t),startScreen()})}function viewRoles(){connection.query("SELECT * FROM role",function(e,t){if(e)throw e;console.table(t),startScreen()})}function viewEmployees(){connection.query("SELECT * FROM employee",function(e,t){if(e)throw e;console.table(t),startScreen()})}function quit(){connection.end(),process.exit()}
//# sourceMappingURL=server.min.js.map

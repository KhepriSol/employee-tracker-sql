{"version":3,"sources":["index.js"],"names":["inquirer","require","mysql","cTable","db","dbConnection","createConnection","server","port","username","password","database","connect","error","console","log","threadId","displayStartScreen","prompt","type","name","message","choices","value","createDepartment","createRole","addEmployee","viewDepartments","viewRoles","viewEmployees","updateEmployeeRole","exitProgram","then","handleOption","result","option","addDepartment","answer","connection","query","deptName","err","res","table","addRole","handleRoleInput","roleName","salaryTotal","deptID","handleEmployeeInput","eeFirstName","eeLastName","roleID","managerID","updateEmployee","handleUpdateEmployeeInput","updateRole","eeUpdate","viewDepartment","quit","end","process","exit"],"mappings":"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","sourcesContent":["//Dependencies found here\r\nconst inquirer = require(\"inquirer\");\r\nconst mysql = require(\"mysql\");\r\nconst cTable = require(\"console.table\");\r\nconst db = require(\".\");\r\n\r\nconst dbConnection = mysql.createConnection({\r\n    server: \"localhost\",\r\n    port: 3001,\r\n    username: \"admin\",\r\n    password: \"Yonkers24!\",\r\n    database: \"employee_db\"\r\n  });\r\n  \r\n  dbConnection.connect(function(error) {\r\n    if (error) throw error;\r\n    console.log(\"Connected to the database as ID \" + dbConnection.threadId);\r\n  \r\n    displayStartScreen();\r\n  });\r\n  \r\n  function displayStartScreen() {\r\n    inquirer.prompt({\r\n      type: \"list\",\r\n      name: \"option\",\r\n      message: \"What would you like to do?\",\r\n      choices: [\r\n        { name: \"Create new department\", value: createDepartment },\r\n        { name: \"Create new role\", value: createRole },\r\n        { name: \"Add new employee\", value: addEmployee },\r\n        { name: \"View departments\", value: viewDepartments },\r\n        { name: \"View roles\", value: viewRoles },\r\n        { name: \"View employees\", value: viewEmployees },\r\n        { name: \"Update employee role\", value: updateEmployeeRole },\r\n        { name: \"Exit\", value: exitProgram }\r\n      ]\r\n    }).then(handleOption);\r\n  }\r\n  \r\n  function handleOption(result) {\r\n    console.log(\"Selected option: \" + result.option);\r\n    result.option();\r\n  }\r\n  \r\n  function addDepartment() {\r\n    inquirer\r\n      .prompt({\r\n        type: \"input\",\r\n        message: \"Enter the name of the department:\",\r\n        name: \"deptName\"\r\n      })\r\n      .then(function(answer) {\r\n        connection.query(\r\n          \"INSERT INTO department (name) VALUES (?)\",\r\n          [answer.deptName],\r\n          function(err, res) {\r\n            if (err) throw err;\r\n            console.table(res);\r\n            displayStartScreen();\r\n          }\r\n        );\r\n      });\r\n  }\r\n  \r\n  function addRole() {\r\n    inquirer.prompt([\r\n      {\r\n        type: \"input\",\r\n        name: \"roleName\",\r\n        message: \"Enter the name of the role:\"\r\n      },\r\n      {\r\n        type: \"input\",\r\n        name: \"salaryTotal\",\r\n        message: \"Enter the salary for this role:\"\r\n      },\r\n      {\r\n        type: \"input\",\r\n        name: \"deptID\",\r\n        message: \"Enter the department ID number:\"\r\n      }\r\n    ])\r\n    .then(handleRoleInput);\r\n  }\r\n  \r\n  function handleRoleInput(answer) {\r\n    connection.query(\r\n      \"INSERT INTO role (title, salary, department_id) VALUES (?, ?, ?)\",\r\n      [answer.roleName, answer.salaryTotal, answer.deptID],\r\n      function(err, res) {\r\n        if (err) throw err;\r\n        console.table(res);\r\n        displayStartScreen();\r\n      }\r\n    );\r\n  }\r\n  \r\n  function addEmployee() {\r\n    inquirer\r\n      .prompt([\r\n        {\r\n          type: \"input\",\r\n          message: \"Enter the first name of the employee:\",\r\n          name: \"eeFirstName\"\r\n        },\r\n        {\r\n          type: \"input\",\r\n          message: \"Enter the last name of the employee:\",\r\n          name: \"eeLastName\"\r\n        },\r\n        {\r\n          type: \"input\",\r\n          message: \"Enter the employee's role ID number:\",\r\n          name: \"roleID\"\r\n        },\r\n        {\r\n          type: \"input\",\r\n          message: \"Enter the manager ID number:\",\r\n          name: \"managerID\"\r\n        }\r\n      ])\r\n      .then(handleEmployeeInput);\r\n  }\r\n  \r\n  function handleEmployeeInput(answer) {\r\n    connection.query(\r\n      \"INSERT INTO employee (first_name, last_name, role_id, manager_id) VALUES (?, ?, ?, ?)\",\r\n      [answer.eeFirstName, answer.eeLastName, answer.roleID, answer.managerID],\r\n      function(err, res) {\r\n        if (err) throw err;\r\n        console.table(res);\r\n        displayStartScreen();\r\n      }\r\n    );\r\n  }\r\n  \r\n\r\n  function updateEmployee() {\r\n    inquirer\r\n      .prompt([\r\n        {\r\n          type: \"input\",\r\n          message: \"Which employee would you like to update?\",\r\n          name: \"eeUpdate\"\r\n        },\r\n        {\r\n          type: \"input\",\r\n          message: \"What do you want to update to?\",\r\n          name: \"updateRole\"\r\n        }\r\n      ])\r\n      .then(handleUpdateEmployeeInput);\r\n  }\r\n  \r\n  function handleUpdateEmployeeInput(answer) {\r\n    connection.query(\r\n      \"UPDATE employee SET role_id = ? WHERE first_name = ?\",\r\n      [answer.updateRole, answer.eeUpdate],\r\n      function(err, res) {\r\n        if (err) throw err;\r\n        console.table(res);\r\n        displayStartScreen();\r\n      }\r\n    );\r\n  }\r\n  \r\n  function viewDepartment() {\r\n    let query = \"SELECT * FROM department\";\r\n    connection.query(query, function(err, res) {\r\n      if (err) throw err;\r\n      console.table(res);\r\n      displayStartScreen();\r\n    });\r\n  }\r\n\r\n  function viewRoles() {\r\n    let query = \"SELECT * FROM role\";\r\n    connection.query(query, function(err, res) {\r\n      if (err) throw err;\r\n      console.table(res);\r\n      displayStartScreen();\r\n    });\r\n  }\r\n  function viewEmployees() {\r\n    let query = \"SELECT * FROM employee\";\r\n    connection.query(query, function(err, res) {\r\n      if (err) throw err;\r\n      console.table(res);\r\n      displayStartScreen();\r\n    });\r\n  }\r\n  function quit() {\r\n    connection.end();\r\n    process.exit();\r\n  }\r\n  \r\n  "],"file":"index.dev.js"}